<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Expenses</title>
  <link rel="stylesheet" href="stylesheet1.css"/>
</head>
<body>
 <header>
      <!-- Top bar and logout button -->
      <div class="top-bar">
        <!-- Profile name (will be displayed once user logs in) -->
    <div id="profileName" class="profile-name" style="display:outside;">
      <span id="userNameDisplay"></span>
    </div>
        <button class="logout-button" onclick="logout()">Logout</button>
      </div>
      </header>
  
  <!-- Hamburger Button -->
  <div class="hamburger" id="hamburger">
    <span></span>
    <span></span>
    <span></span>
  </div>

  <!-- Navigation Menu -->
  <nav class="nav-menu" id="navMenu">
    <ul>
       <li><a href="income.html">Income</a></li>
      <li><a href="expenses.html">Expenses</a></li>
     <li> <a href = "summary.html" >Summary</a></li>
    <li><a href="dashboard.html">Dash board</a></li>
    </ul>
  </nav>

  <!-- Main Container -->
  <div class="container">
    <div class="left-section">
      <h1>Expenses Transactions</h1>
      <button onclick="navBack()">Back</button>
    </div>

     <div>
                  <h3>Search category:</h3>
  <input type="text" id="searchBox" placeholder="Type to search...">
  <ul id="results"></ul>    
        </div>

    <div class="right-section">
      <h2>Add Expense</h2>
      <form id="transactionForm" action="#">
        <input type="date" id="dateOfTransaction" required />
        <input type="text" id="reviewer" placeholder="Reviewer" required />
        <input type="text" id="category" placeholder="Category" required />
        <input type="text" id="description" placeholder="Description" required />
        <input type="text" id="invoiceNo" placeholder="Invoice No" required />
        <input type="text" id="productName" placeholder="Product Name" required />
        <input type="number" id="quantity" placeholder="Quantity" required />
        <input type="number" id="amount" placeholder="Amount of Unit" required />
        <input type="hidden" id="type" value="expenses"/>
        <button type="submit">Submit</button>
      </form>

      <h2>Expenses History</h2>
      <div class="table-wrapper">
        <table id="transactions" style="width: 100%;">
          <thead>
            <tr>
              <th>Transaction Date</th>
              <th>Transaction Type</th>
              <th>Reviewer</th>
              <th>Category</th>
              <th>Description</th>
              <th>Invoice No</th>
              <th>Product Name</th>
              <th>Quantity</th>
              <th>Amount (₹)</th>
            </tr>
          </thead>
          <tbody id="transactionList"></tbody>
        </table>
      </div>
    </div>
  </div>

  <h3>Total Expenses: ₹ <span id="balanceAmount">0</span></h3>

 
  <script src="script.js"></script>
  <script>
     // Check if the user is logged in
      const checkAuth = () => {
        const loggedIn = localStorage.getItem("loggedin");
        if (loggedIn) {
          const username = localStorage.getItem("username");
          // Display profile name at the top right
          document.getElementById("profileName").style.display = "block";
          document.getElementById("userNameDisplay").textContent = username;
        } else {
          window.location.href = "index.html"; // Redirect to login if not logged in
        }
      };
    checkAuth();
    function navBack() {
      window.location.href = 'dashboard.html';
    }

    const hamburger = document.getElementById('hamburger');
    const navMenu = document.getElementById('navMenu');
    hamburger.addEventListener('click', () => {
      navMenu.classList.toggle('open');
       hamburger.classList.toggle('clicked')
    });

      logout = () => {
        localStorage.removeItem("loggedin");
        window.location.href = "index.html";
      };
      checkAuth();
    </script>
</body>
</html>
